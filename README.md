# Python Project with Sphinx Documentation Starter

This repository contains a sample python project with Sphinx documentation. The modules included are dummy modules to be replaced after the project is set up.

<!-- start include-to-docs-rst -->

## Procedure

- In any python environment, run the following commands to install the required packages:

```bash
pip install -r requirements.txt
```

> Note that we are using [furo](https://github.com/pradyunsg/furo) instead of the default `alabasta` for the documentation theme.

- To create the initial docs files, run the following inside the docs folder:

```bash
sphinx-quickstart
```

- A configuration file will be created in the docs folder - `docs/conf.py`. You will need to add needed extensions in the `extensions` list. You can also change the default theme to `furo` if you wish. The `alabasta` is the default theme.
- In the configuration file, change the path to your source code's root folder. For example, if your source code is in a folder called `src`, then the path should be `sys.path.insert(0, os.path.abspath('../src/'))`. This is to ensure that Sphinx can find your modules. Be sure to add `__init__.py` files to all the submodules you want to document.

The following is a sample configuration file:

```python
import os
import sys
sys.path.insert(0, os.path.abspath('..'))

project = 'Documentation Example'
copyright = '2023, Joshua Owoyemi'
author = 'Joshua Owoyemi'
release = '0.1.0'

extensions = [
    'sphinx.ext.autodoc',
    'sphinx.ext.viewcode',
    'sphinx.ext.napoleon',
    'myst_parser',
]

templates_path = ['_templates']
exclude_patterns = ['_build', 'Thumbs.db', '.DS_Store']

html_theme = 'furo'
html_static_path = ['_static']
```

- Generate .rst files by running the following command in the project's root folder:

```bash
sphinx-apidoc -o docs maths/
```

> Alternatively you can run the command from the docs folder using: `sphinx-apidoc -o . ../maths/ --force`
> Note that if your source code is in a folder called `src`, then the path should be `sphinx-apidoc -o docs src/`.
> You can add a `--force` flag to the above command to overwrite existing files.

- Before building the documentation, you need to add the necessary sections in the `index.rst` file in the docs folder. The following is a sample `index.rst` file:

```rst
Welcome to Documentation Examples's documentation!
===================================================

.. toctree::
   :maxdepth: 2
   :caption: Contents:

.. Hidden contents below
.. toctree::
   :hidden:

   modules

Readme
======

.. Include text from markdown file (or possibly any file)
.. include:: ../README.md
   :start-after: <!-- start some-keyword-indicating-beginning-of-section -->
   :end-before: <!-- end some-keyword-indicating-end-of-section -->
   :parser: myst_parser.sphinx_

Indices and tables
==================

* :ref:`genindex`
* :ref:`search`
* :ref:`modindex`
```

> In the above example, we have added a section for modules but just including the `modules` word. This will make use of the `modules.rst` file that is generated by `sphinx-apidoc`. We have also added a section for the README file. This will make use of the `README.md` file in the project's root folder. The `:parser: myst_parser.sphinx_` is to ensure that the markdown file is parsed correctly.

- To build the documentation, run the following command in the docs folder:

```bash
make html
```

In case you did some changes to your code and you want to rebuild that HTML, Go to your docs folder and run the following commands:

```bash
make clean html
# followed by
make html
```

<!-- end include-to-docs-rst -->
